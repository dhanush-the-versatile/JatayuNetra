<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Services - Smart Tourist Safety System</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Times+New+Roman:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <div class="app-header">
            <div class="header-content">
                <h1 class="header-title">🏛️ Emergency Services</h1>
                <button class="btn btn-secondary" onclick="goBackToDashboard()">← Dashboard</button>
            </div>
        </div>

        <!-- Main Services Selection -->
        <div id="main-services" class="section">
            <div class="services-grid">
                <div class="service-card" onclick="showVehicleAssistance()">
                    <div class="service-icon">🚗</div>
                    <div class="service-content">
                        <h3>Vehicle Assistance</h3>
                        <p>Fuel, Mechanic & Air services</p>
                    </div>
                </div>

                <div class="service-card" onclick="showMedicalAssistance()">
                    <div class="service-icon">🏥</div>
                    <div class="service-content">
                        <h3>Medical Assistance</h3>
                        <p>Emergency medical support</p>
                    </div>
                </div>

                <div class="service-card" onclick="showPoliceAssistance()">
                    <div class="service-icon">👮</div>
                    <div class="service-content">
                        <h3>Police Assistance</h3>
                        <p>Traffic & emergency support</p>
                    </div>
                </div>

                <div class="service-card" onclick="showEmergencyContacts()">
                    <div class="service-icon">📞</div>
                    <div class="service-content">
                        <h3>Emergency Contacts</h3>
                        <p>Quick dial saved contacts</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Vehicle Assistance Section -->
        <div id="vehicle-assistance" class="service-section hidden">
            <div class="section-header">
                <h2>🚗 Vehicle Assistance</h2>
                <button class="btn btn-secondary" onclick="showMainServices()">← Back</button>
            </div>

            <div class="assistance-options">
                <div class="option-card" onclick="showFuelAssistance()">
                    <div class="option-icon">⛽</div>
                    <div class="option-content">
                        <h3>Fuel Assistance</h3>
                        <p>Petrol, Diesel, CNG services</p>
                    </div>
                </div>

                <div class="option-card" onclick="showMechanicAssistance()">
                    <div class="option-icon">🔧</div>
                    <div class="option-content">
                        <h3>Mechanic Assistance</h3>
                        <p>Repairs and breakdown support</p>
                    </div>
                </div>

                <div class="option-card" onclick="showAirAssistance()">
                    <div class="option-icon">🎈</div>
                    <div class="option-content">
                        <h3>Air Assistance</h3>
                        <p>Tire inflation services</p>
                    </div>
                </div>
            </div>

            <!-- Fuel Detail Section -->
            <div id="fuel-detail" class="detail-section hidden">
                <h3>⛽ Fuel Services</h3>
                <div class="fuel-types">
                    <button class="btn btn-primary" onclick="findNearbyService('petrol')">Find Petrol Stations</button>
                    <button class="btn btn-primary" onclick="findNearbyService('diesel')">Find Diesel Stations</button>
                    <button class="btn btn-primary" onclick="findNearbyService('cng')">Find CNG Stations</button>
                </div>
                <div id="fuel-results" class="results-container"></div>
            </div>

            <!-- Mechanic Detail Section -->
            <div id="mechanic-detail" class="detail-section hidden">
                <h3>🔧 Mechanic Services</h3>
                <button class="btn btn-primary" onclick="findNearbyMechanics()">Find Nearby Mechanics</button>
                <div id="mechanic-results" class="results-container"></div>
            </div>

            <!-- Air Detail Section -->
            <div id="air-detail" class="detail-section hidden">
                <h3>🎈 Air Pressure Services</h3>
                <button class="btn btn-primary" onclick="findAirServices()">Find Air Pumps</button>
                <div id="air-results" class="results-container"></div>
            </div>
        </div>

        <!-- Medical Assistance Section -->
        <div id="medical-assistance" class="service-section hidden">
            <div class="section-header">
                <h2>🏥 Medical Assistance</h2>
                <button class="btn btn-secondary" onclick="showMainServices()">← Back</button>
            </div>

            <div class="patient-types">
                <div class="option-card" onclick="findHospitals('general')">
                    <div class="option-icon">🩺</div>
                    <div class="option-content">
                        <h3>General Patient</h3>
                        <p>Regular medical assistance</p>
                    </div>
                </div>

                <div class="option-card" onclick="findHospitals('pregnant')">
                    <div class="option-icon">🤱</div>
                    <div class="option-content">
                        <h3>Pregnant Patient</h3>
                        <p>Maternity emergency care</p>
                    </div>
                </div>

                <div class="option-card" onclick="findHospitals('accident')">
                    <div class="option-icon">🚑</div>
                    <div class="option-content">
                        <h3>Accident Patient</h3>
                        <p>Trauma and emergency care</p>
                    </div>
                </div>
            </div>

            <div id="hospital-results" class="results-container"></div>
        </div>

        <!-- Police Assistance Section -->
        <div id="police-assistance" class="service-section hidden">
            <div class="section-header">
                <h2>👮 Police Assistance</h2>
                <button class="btn btn-secondary" onclick="showMainServices()">← Back</button>
            </div>

            <div class="assistance-options">
                <div class="option-card" onclick="reportAccident()">
                    <div class="option-icon">🚗</div>
                    <div class="option-content">
                        <h3>Accident Issue</h3>
                        <p>Report traffic accidents</p>
                    </div>
                </div>

                <div class="option-card" onclick="generalPoliceHelp()">
                    <div class="option-icon">⚖️</div>
                    <div class="option-content">
                        <h3>General Help</h3>
                        <p>General police assistance</p>
                    </div>
                </div>

                <div class="option-card emergency-option" onclick="callPoliceEmergency()">
                    <div class="option-icon">🚨</div>
                    <div class="option-content">
                        <h3>Emergency Call</h3>
                        <p>Direct emergency line</p>
                    </div>
                </div>
            </div>

            <div id="police-results" class="results-container"></div>
        </div>

        <!-- Emergency Contacts Section -->
        <div id="emergency-contacts" class="service-section hidden">
            <div class="section-header">
                <h2>📞 Emergency Contacts</h2>
                <button class="btn btn-secondary" onclick="showMainServices()">← Back</button>
            </div>

            <div class="contacts-header">
                <h3>Your Emergency Contacts</h3>
                <button class="btn btn-primary" onclick="showAddContactModal()">+ Add Contact</button>
            </div>

            <div id="contacts-list" class="contacts-list"></div>
        </div>
    </div>

    <!-- Add Contact Modal -->
    <div id="contact-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Emergency Contact</h3>
                <button class="modal-close" onclick="hideContactModal()">&times;</button>
            </div>
            <form id="contact-form" class="contact-form">
                <div class="form-group">
                    <label for="contact-name" class="form-label">Name</label>
                    <input type="text" id="contact-name" name="name" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="contact-relation" class="form-label">Relation</label>
                    <select id="contact-relation" name="relation" class="form-control">
                        <option value="Family">Family</option>
                        <option value="Friend">Friend</option>
                        <option value="Medical">Medical</option>
                        <option value="Insurance">Insurance</option>
                        <option value="Work">Work</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="contact-phone" class="form-label">Phone Number</label>
                    <input type="tel" id="contact-phone" name="phone" class="form-control" required>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="hideContactModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Contact</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Loading Modal -->
    <div id="loading-modal" class="modal hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Finding services near you...</p>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast" class="toast hidden">
        <span id="toast-message"></span>
        <button class="toast-close" onclick="hideToast()">&times;</button>
    </div>

    <script src="assets/js/utils.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>