<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Services - Smart Tourist Safety</title>
    <link rel="stylesheet" href="enhanced-styles.css">
    <meta name="theme-color" content="#1e3a8a">
</head>
<body>
    <div class="services-container">
        <!-- Header -->
        <div class="services-header">
            <div class="header-content">
                <div class="back-button" onclick="goBackToDashboard()">
                    <span>← Back</span>
                </div>
                <h1>🚨 Emergency Services</h1>
                <p>Northeast India - 24/7 Safety Support</p>
            </div>
        </div>

        <!-- Emergency Status Bar -->
        <div class="emergency-status-bar">
            <div class="status-item urgent">
                <div class="status-icon">🚨</div>
                <div class="status-info">
                    <span class="status-label">Emergency Response</span>
                    <span class="status-value">< 3 Minutes</span>
                </div>
            </div>
            <div class="status-item">
                <div class="status-icon">📍</div>
                <div class="status-info">
                    <span class="status-label">Your Location</span>
                    <span class="status-value">Guwahati, Assam</span>
                </div>
            </div>
            <div class="status-item">
                <div class="status-icon">🆔</div>
                <div class="status-info">
                    <span class="status-label">Digital ID</span>
                    <span class="status-value">TST-AS-2025-001234</span>
                </div>
            </div>
        </div>

        <div class="services-main">
            <!-- Main Services Grid -->
            <div id="main-services" class="services-grid">
                <div class="service-card priority" onclick="showVehicleAssistance()">
                    <div class="service-icon">🚗</div>
                    <h3>Vehicle Assistance</h3>
                    <p>Fuel, Mechanic & Breakdown Support</p>
                    <div class="service-stats">
                        <span class="stat">24/7 Available</span>
                        <span class="stat">15 Stations Nearby</span>
                    </div>
                </div>

                <div class="service-card emergency" onclick="showMedicalAssistance()">
                    <div class="service-icon">🏥</div>
                    <h3>Medical Emergency</h3>
                    <p>Hospital, Ambulance & First Aid</p>
                    <div class="service-stats">
                        <span class="stat">Emergency: 102</span>
                        <span class="stat">3 Hospitals Nearby</span>
                    </div>
                </div>

                <div class="service-card security" onclick="showPoliceAssistance()">
                    <div class="service-icon">👮</div>
                    <h3>Police & Security</h3>
                    <p>Tourist Police & Law Enforcement</p>
                    <div class="service-stats">
                        <span class="stat">Emergency: 100</span>
                        <span class="stat">Tourism Wing Active</span>
                    </div>
                </div>

                <div class="service-card contacts" onclick="showEmergencyContacts()">
                    <div class="service-icon">📞</div>
                    <h3>Emergency Contacts</h3>
                    <p>Family, Friends & Personal Contacts</p>
                    <div class="service-stats">
                        <span class="stat">3 Contacts</span>
                        <span class="stat">Auto-notify in SOS</span>
                    </div>
                </div>

                <!-- Northeast India Specific Services -->
                <div class="service-card special" onclick="showTourismPolice()">
                    <div class="service-icon">🏛️</div>
                    <h3>Tourism Police</h3>
                    <p>Specialized Northeast Tourism Wing</p>
                    <div class="service-stats">
                        <span class="stat">Assam: +91-361-2237728</span>
                        <span class="stat">24/7 Multilingual</span>
                    </div>
                </div>

                <div class="service-card weather" onclick="showWeatherAlerts()">
                    <div class="service-icon">🌧️</div>
                    <h3>Weather & Natural Alerts</h3>
                    <p>Monsoon, Landslide & Earthquake Warnings</p>
                    <div class="service-stats">
                        <span class="stat">Real-time Updates</span>
                        <span class="stat">Regional Warnings</span>
                    </div>
                </div>
            </div>

            <!-- Vehicle Assistance Section -->
            <div id="vehicle-assistance" class="service-section hidden">
                <div class="section-header">
                    <h2>🚗 Vehicle Assistance Services</h2>
                    <p>24/7 roadside support across Northeast India</p>
                </div>

                <div class="assistance-options">
                    <div class="option-card" onclick="showFuelAssistance()">
                        <div class="option-icon">⛽</div>
                        <h4>Fuel Assistance</h4>
                        <p>Emergency fuel delivery</p>
                    </div>
                    <div class="option-card" onclick="showMechanicAssistance()">
                        <div class="option-icon">🔧</div>
                        <h4>Mechanic Services</h4>
                        <p>Roadside repairs</p>
                    </div>
                    <div class="option-card" onclick="showTowingService()">
                        <div class="option-icon">🚛</div>
                        <h4>Towing Service</h4>
                        <p>Vehicle recovery</p>
                    </div>
                </div>

                <!-- Fuel Detail Section -->
                <div id="fuel-detail" class="detail-section hidden">
                    <h3>⛽ Emergency Fuel Assistance</h3>
                    <div class="fuel-types">
                        <button class="fuel-btn" onclick="findNearbyService('petrol')">Petrol</button>
                        <button class="fuel-btn" onclick="findNearbyService('diesel')">Diesel</button>
                        <button class="fuel-btn" onclick="findNearbyService('cng')">CNG</button>
                    </div>
                    <div id="fuel-results" class="results-section"></div>
                </div>

                <!-- Mechanic Detail Section -->
                <div id="mechanic-detail" class="detail-section hidden">
                    <h3>🔧 Mechanic Assistance</h3>
                    <div class="service-types">
                        <button class="service-btn" onclick="findNearbyMechanics('general')">General Repair</button>
                        <button class="service-btn" onclick="findNearbyMechanics('engine')">Engine Issues</button>
                        <button class="service-btn" onclick="findNearbyMechanics('tires')">Tire Problems</button>
                    </div>
                    <div id="mechanic-results" class="results-section"></div>
                </div>
            </div>

            <!-- Medical Assistance Section -->
            <div id="medical-assistance" class="service-section hidden">
                <div class="section-header">
                    <h2>🏥 Medical Emergency Services</h2>
                    <p>Immediate medical support across Northeast states</p>
                </div>

                <div class="medical-emergency-actions">
                    <button class="emergency-btn critical" onclick="callEmergencyService('medical')">
                        <span class="btn-icon">🚑</span>
                        <span class="btn-text">Call Ambulance (102)</span>
                        <span class="btn-desc">Immediate medical emergency</span>
                    </button>
                    <button class="emergency-btn urgent" onclick="findHospitals('general')">
                        <span class="btn-icon">🏥</span>
                        <span class="btn-text">Find Nearest Hospital</span>
                        <span class="btn-desc">Locate medical facilities</span>
                    </button>
                </div>

                <div class="patient-types">
                    <div class="type-card" onclick="findHospitals('accident')">
                        <div class="type-icon">🚑</div>
                        <h4>Accident/Trauma</h4>
                        <p>Emergency medical care</p>
                    </div>
                    <div class="type-card" onclick="findHospitals('pregnancy')">
                        <div class="type-icon">👶</div>
                        <h4>Pregnancy/Maternity</h4>
                        <p>Women's healthcare</p>
                    </div>
                    <div class="type-card" onclick="findHospitals('general')">
                        <div class="type-icon">⚕️</div>
                        <h4>General Medical</h4>
                        <p>Basic healthcare</p>
                    </div>
                </div>

                <div id="hospital-results" class="results-section"></div>
            </div>

            <!-- Police Assistance Section -->
            <div id="police-assistance" class="service-section hidden">
                <div class="section-header">
                    <h2>👮 Police & Security Services</h2>
                    <p>Tourist safety and law enforcement support</p>
                </div>

                <div class="police-emergency-actions">
                    <button class="emergency-btn critical" onclick="callEmergencyService('police')">
                        <span class="btn-icon">🚔</span>
                        <span class="btn-text">Emergency Police (100)</span>
                        <span class="btn-desc">Immediate police response</span>
                    </button>
                    <button class="emergency-btn urgent" onclick="callTourismPolice()">
                        <span class="btn-icon">🏛️</span>
                        <span class="btn-text">Tourism Police</span>
                        <span class="btn-desc">Specialized tourist assistance</span>
                    </button>
                </div>

                <div class="police-services">
                    <div class="service-type-card" onclick="reportAccident()">
                        <div class="service-type-icon">🚗</div>
                        <h4>Accident Reporting</h4>
                        <p>Report traffic incidents</p>
                    </div>
                    <div class="service-type-card" onclick="reportTheft()">
                        <div class="service-type-icon">🛡️</div>
                        <h4>Theft/Crime Report</h4>
                        <p>Report criminal incidents</p>
                    </div>
                    <div class="service-type-card" onclick="requestEscort()">
                        <div class="service-type-icon">👥</div>
                        <h4>Police Escort</h4>
                        <p>High-risk area escort</p>
                    </div>
                    <div class="service-type-card" onclick="checkPermits()">
                        <div class="service-type-icon">📋</div>
                        <h4>Permit Verification</h4>
                        <p>Check travel permits</p>
                    </div>
                </div>

                <div id="police-results" class="results-section"></div>
            </div>

            <!-- Emergency Contacts Section -->
            <div id="emergency-contacts" class="service-section hidden">
                <div class="section-header">
                    <h2>📞 Emergency Contacts Management</h2>
                    <p>Manage your personal emergency contacts</p>
                </div>

                <div class="contacts-actions">
                    <button class="add-contact-btn" onclick="showAddContactForm()">
                        <span class="btn-icon">➕</span>
                        <span class="btn-text">Add Emergency Contact</span>
                    </button>
                    <button class="test-contacts-btn" onclick="testEmergencyContacts()">
                        <span class="btn-icon">🧪</span>
                        <span class="btn-text">Test All Contacts</span>
                    </button>
                </div>

                <!-- Add Contact Form -->
                <form id="contact-form" class="contact-form hidden">
                    <h3>Add Emergency Contact</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-name">Contact Name</label>
                            <input type="text" id="contact-name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="contact-phone">Phone Number</label>
                            <input type="tel" id="contact-phone" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contact-relation">Relationship</label>
                            <select id="contact-relation" class="form-control" required>
                                <option value="">Select Relationship</option>
                                <option value="family">Family Member</option>
                                <option value="friend">Friend</option>
                                <option value="colleague">Colleague</option>
                                <option value="medical">Medical Contact</option>
                                <option value="insurance">Insurance</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="contact-priority">Priority</label>
                            <select id="contact-priority" class="form-control" required>
                                <option value="high">High - Contact first</option>
                                <option value="medium">Medium - Contact if needed</option>
                                <option value="low">Low - Info only</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Add Contact</button>
                        <button type="button" class="btn btn-secondary" onclick="hideAddContactForm()">Cancel</button>
                    </div>
                </form>

                <!-- Contacts List -->
                <div id="contacts-list" class="contacts-grid">
                    <!-- Contacts will be loaded here -->
                </div>
            </div>

            <!-- Northeast India Specific Information -->
            <div class="northeast-info-panel">
                <h3>🏔️ Northeast India Emergency Information</h3>
                <div class="info-grid">
                    <div class="info-card">
                        <h4>📞 State Emergency Numbers</h4>
                        <div class="emergency-numbers">
                            <div class="number-item">
                                <strong>Assam Tourism Police:</strong> +91-361-2237728
                            </div>
                            <div class="number-item">
                                <strong>Meghalaya Tourism:</strong> +91-364-2226618
                            </div>
                            <div class="number-item">
                                <strong>Sikkim Tourism:</strong> +91-3592-280688
                            </div>
                            <div class="number-item">
                                <strong>All States Emergency:</strong> 100 (Police), 102 (Medical)
                            </div>
                        </div>
                    </div>
                    <div class="info-card">
                        <h4>⚠️ Regional Warnings</h4>
                        <div class="warnings-list">
                            <div class="warning-item monsoon">
                                <span class="warning-icon">🌧️</span>
                                <span>Monsoon season: Heavy rainfall expected</span>
                            </div>
                            <div class="warning-item border">
                                <span class="warning-icon">🚧</span>
                                <span>Border areas: Special permits required</span>
                            </div>
                            <div class="warning-item connectivity">
                                <span class="warning-icon">📶</span>
                                <span>Remote areas: Limited mobile connectivity</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Finding nearby services...</p>
        </div>
    </div>

    <!-- Floating SOS Button -->
    <div class="sos-container">
        <button id="sos-button" class="sos-button" onclick="activateEmergencySOS()">
            <div class="sos-pulse"></div>
            <div class="sos-content">
                <div class="sos-text">SOS</div>
                <div class="sos-subtext">Emergency</div>
            </div>
        </button>
    </div>

    <script src="enhanced-main.js"></script>
    <script src="utils.js"></script>
</body>
</html>